<mat-card class="wrap">
  <div class="header">
    <mat-form-field class="todo-input-outer">
      <input  class="todo-input" 
              matInput placeholder="Задача" 
              (blur)="createTodo()"
              (keyup.enter)="createTodo()"
              [(ngModel)]="newTodo">
    </mat-form-field>
  </div>

  <div class="todos-list">
    <div  class="inner item" 
          id="todo_{{ todo.id }}"
          *ngFor="let todo of todos | todos:activeBtn" 
          (mouseenter)="showRemoveIcon(todo.id)" 
          (mouseleave)="hideRemoveIcon(todo.id)">
      <div class="checkbox-area">
        <mat-checkbox [(ngModel)]="checkboxes[todo.id]" 
                      (change)="toggleTodoState(todo.id, checkboxes[todo.id])"></mat-checkbox>
      </div>

      <div class="inner title-area" [ngClass]="{checked: checkboxes[todo.id]}">{{ todo.title }}</div>

      <div class="inner remove-area">
        <div class="icon"><i class="material-icons">close</i></div>
      </div>
    </div>
  </div>

  <div class="actions">
    <div class="inner cnt"></div>

    <div class="inner visibility" (click)="setActiveBtn($event.target.id)">
      <button class="btn btn-common" id="All" type="button" mat-button [ngClass]="{active: activeBtn == 'All'}">All</button>
      <button class="btn btn-common" id="Active" type="button" mat-button [ngClass]="{active: activeBtn == 'Active'}">Active</button>
      <button class="btn btn-common" id="Completed" type="button" mat-button [ngClass]="{active: activeBtn == 'Completed'}">Completed</button>
    </div>

    <div class="inner clear"></div>
  </div>
</mat-card>
